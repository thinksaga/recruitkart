model Job {
  id                 String    @id @default(uuid())
  organization_id    String
  title              String
  description        String?
  salary_min         Float?
  salary_max         Float?
  status             JobStatus @default(DRAFT)
  infra_fee_paid     Boolean   @default(false)
  success_fee_amount Float
  created_at         DateTime  @default(now())
  updated_at         DateTime  @updatedAt

  // Relations
  organization  Organization  @relation(fields: [organization_id], references: [id])
  escrow_ledger EscrowLedger?
  submissions   Submission[]
  tickets       Ticket[]
  escrow_transactions EscrowTransaction[]
}

model EscrowLedger {
  id           String       @id @default(uuid())
  job_id       String       @unique
  amount       Float
  status       EscrowStatus @default(HELD)
  deposited_at DateTime     @default(now())
  release_date DateTime?
  created_at   DateTime     @default(now())
  updated_at   DateTime     @updatedAt

  // Relations
  job Job @relation(fields: [job_id], references: [id])
}
